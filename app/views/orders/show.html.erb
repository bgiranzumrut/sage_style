<h1 class="page-title text-center mb-4">Order Confirmation</h1>

<div class="order-confirmation-container">

  <!-- Customer Details -->
  <div class="confirmation-section">
    <h3>Customer Details</h3>
    <p>
      <strong>Name:</strong> <%= @order.name %><br>
      <strong>Address:</strong> <%= @order.address %><br>
      <strong>Province:</strong> <%= @order.province.name %>
    </p>
  </div>

  <!-- Order Summary -->
  <div class="confirmation-section">
    <h3>Order Summary</h3>
    <table class="table table-striped confirmation-table">
      <thead>
        <tr>
          <th>Product</th>
          <th>Quantity</th>
          <th>Unit Price</th>
          <th>Subtotal</th>
        </tr>
      </thead>
      <tbody>
        <% @order.order_items.each do |item| %>
          <tr>
            <td><%= item.product.name %></td>
            <td><%= item.quantity %></td>
            <td>$<%= number_with_precision(item.unit_price, precision: 2) %></td>
            <td>$<%= number_with_precision(item.unit_price * item.quantity, precision: 2) %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <!-- Totals -->
  <div class="confirmation-section">
    <h3>Totals</h3>
    <p>
      <strong>Subtotal:</strong> $<%= number_with_precision(@order.subtotal, precision: 2) %><br>
      <strong>GST:</strong> $<%= number_with_precision(@order.gst, precision: 2) %><br>
      <strong>PST:</strong> $<%= number_with_precision(@order.pst, precision: 2) %><br>
      <strong>HST:</strong> $<%= number_with_precision(@order.hst, precision: 2) %><br>
      <strong class="text-highlight">Total:</strong> $<%= number_with_precision(@order.total, precision: 2) %>
    </p>
  </div>

  <!-- Status -->
  <div class="confirmation-section">
    <h3>Status</h3>
    <p><strong>Order Status:</strong> <%= @order.status.capitalize %></p>
  </div>

  <!-- CTA -->
  <div class="text-center mt-4">
    <%= link_to "Back to Home", root_path, class: "product-btn" %>
  </div>

</div>
